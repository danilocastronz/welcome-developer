{"ast":null,"code":"import * as d3 from \"d3\";\nconst url = \"https://api.coinranking.com/v1/public/coins?limit=10\";\nconst MARGIN = {\n  TOP: 10,\n  BOTTOM: 50,\n  LEFT: 50,\n  RIGHT: 10\n};\nconst WIDTH = 800 - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = 500 - MARGIN.TOP - MARGIN.BOTTOM;\nexport default class D3BarChart {\n  constructor(element) {\n    const svg = d3.select(element).append(\"svg\").attr(\"width\", WIDTH + MARGIN.LEFT + MARGIN.RIGHT).attr(\"height\", HEIGHT + MARGIN.TOP + MARGIN.BOTTOM).append(\"g\").attr(\"transform\", `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`);\n    d3.json(url).then(coinData => {\n      const ds = coinData.data.coins;\n      ds.sort(function (a, b) {\n        return b.numberOfExchanges - a.numberOfExchanges;\n      });\n      const y = d3.scaleLinear().domain([d3.min(ds, d => d.numberOfExchanges), d3.max(ds, d => d.numberOfExchanges)]).range([HEIGHT, 0]);\n      const x = d3.scaleBand().domain(ds.map(d => d.name)).range([0, WIDTH]).padding(0.5);\n      const xAxisCall = d3.axisBottom(x);\n      svg.append(\"g\").attr(\"transform\", `translate(0, ${HEIGHT})`).call(xAxisCall);\n      const yAxisCall = d3.axisLeft(y);\n      svg.append(\"g\").call(yAxisCall);\n      const rects = svg.selectAll(\"rect\").data(ds);\n      rects.enter().append(\"rect\").attr(\"x\", d => x(d.name)).attr(\"y\", d => y(d.numberOfExchanges)).attr(\"width\", x.bandwidth).attr(\"height\", d => HEIGHT - y(d.numberOfExchanges)).attr(\"fill\", \"orange\");\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/danilocastro/welcome-developer/posts/introduction-react-d3js/d3-react-welcome-dev/src/D3BarChart.js"],"names":["d3","url","MARGIN","TOP","BOTTOM","LEFT","RIGHT","WIDTH","HEIGHT","D3BarChart","constructor","element","svg","select","append","attr","json","then","coinData","ds","data","coins","sort","a","b","numberOfExchanges","y","scaleLinear","domain","min","d","max","range","x","scaleBand","map","name","padding","xAxisCall","axisBottom","call","yAxisCall","axisLeft","rects","selectAll","enter","bandwidth"],"mappings":"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","sourcesContent":["import * as d3 from \"d3\";\nconst url = \"https://api.coinranking.com/v1/public/coins?limit=10\";\nconst MARGIN = { TOP: 10, BOTTOM: 50, LEFT: 50, RIGHT: 10 };\nconst WIDTH = 800 - MARGIN.LEFT - MARGIN.RIGHT;\nconst HEIGHT = 500 - MARGIN.TOP - MARGIN.BOTTOM;\nexport default class D3BarChart {\n  constructor(element) {\n    const svg = d3\n      .select(element)\n      .append(\"svg\")\n      .attr(\"width\", WIDTH + MARGIN.LEFT + MARGIN.RIGHT)\n      .attr(\"height\", HEIGHT + MARGIN.TOP + MARGIN.BOTTOM)\n      .append(\"g\")\n      .attr(\"transform\", `translate(${MARGIN.LEFT}, ${MARGIN.TOP})`);\n    d3.json(url).then(coinData => {\n        const ds = coinData.data.coins;\n        ds.sort(function (a, b) { return b.numberOfExchanges - a.numberOfExchanges})\n      const y = d3\n        .scaleLinear()\n        .domain([\n          d3.min(ds, d => d.numberOfExchanges),\n          d3.max(ds, d => d.numberOfExchanges)\n        ])\n        .range([HEIGHT, 0]);\n      const x = d3\n        .scaleBand()\n        .domain(ds.map(d => d.name))\n        .range([0, WIDTH])\n        .padding(0.5);\n      const xAxisCall = d3.axisBottom(x);\n      svg\n        .append(\"g\")\n        .attr(\"transform\", `translate(0, ${HEIGHT})`)\n        .call(xAxisCall);\n      const yAxisCall = d3.axisLeft(y);\n        svg.append(\"g\").call(yAxisCall);\n      \n      const rects = svg.selectAll(\"rect\").data(ds);\n      rects\n        .enter()\n        .append(\"rect\")\n        .attr(\"x\", d => x(d.name))\n        .attr(\"y\", d => y(d.numberOfExchanges))\n        .attr(\"width\", x.bandwidth)\n        .attr(\"height\", d => HEIGHT - y(d.numberOfExchanges))\n        .attr(\"fill\", \"orange\")\n    });\n  }\n}"]},"metadata":{},"sourceType":"module"}